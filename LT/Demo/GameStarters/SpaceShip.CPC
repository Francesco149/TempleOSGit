#define __BIN_1_TYPE 0x00000002
#define __BIN_1_SIZE 0x00000269
#define __BIN_1 "\x02\x00\x00\x00\x07\x08\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00\xE1\xFF\xFF\xFF\x11\x00\x00\x00\x14\x00\x00\x00\xDF\xFF\xFF\xFF\x05\x00\x00\x00\x0A\x00\x00\x00\xDA\xFF\xFF\xFF\xE7\xFF\xFF\xFF\x15\x00\x00\x00\x05\x00\x00\x00\xF5\xFF\xFF\xFF\xFC\xFF\xFF\xFF\x08\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x08\x00\x00\x00\x03\x00\x00\x00\x07\x00\x00\x00\x16\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x16\x00\x00\x00\xF3\xFF\xFF\xFF\x0D\x00\x00\x00\x05\x00\x00\x00\xF3\xFF\xFF\xFF\x0D\x00\x00\x00\xF7\xFF\xFF\xFF\xFA\xFF\xFF\xFF\x05\x00\x00\x00\x08\x00\x00\x00\x02\x00\x00\x00\x17\x00\x00\x00\xF8\xFF\xFF\xFF\x05\x00\x00\x00\x17\x00\x00\x00\xF8\xFF\xFF\xFF\x17\x00\x00\x00\x0D\x00\x00\x00\x05\x00\x00\x00\x17\x00\x00\x00\x0D\x00\x00\x00\x06\x00\x00\x00\x16\x00\x00\x00\x05\x00\x00\x00\x17\x00\x00\x00\xF7\xFF\xFF\xFF\x03\x00\x00\x00\xF4\xFF\xFF\xFF\x05\x00\x00\x00\x03\x00\x00\x00\xF4\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xFB\xFF\xFF\xFF\x05\x00\x00\x00\xF6\xFF\xFF\xFF\xFD\xFF\xFF\xFF\xC7\xFF\xFF\xFF\xF2\xFF\xFF\xFF\x05\x00\x00\x00\xC7\xFF\xFF\xFF\xF2\xFF\xFF\xFF\xC5\xFF\xFF\xFF\xF7\xFF\xFF\xFF\x05\x00\x00\x00\xC5\xFF\xFF\xFF\xF7\xFF\xFF\xFF\xF3\xFF\xFF\xFF\x0E\x00\x00\x00\x05\x00\x00\x00\xFD\xFF\xFF\xFF\xF3\xFF\xFF\xFF\xC8\xFF\xFF\xFF\xF1\xFF\xFF\xFF\x02\x00\x00\x00\x04\x05\x00\x00\x00\x0D\x00\x00\x00\x06\x00\x00\x00\x13\x00\x00\x00\x04\x00\x00\x00\x02\x00\x00\x00\x05\x05\x00\x00\x00\xDD\xFF\xFF\xFF\x0F\x00\x00\x00\xEA\xFF\xFF\xFF\x17\x00\x00\x00\x05\x00\x00\x00\xEA\xFF\xFF\xFF\x17\x00\x00\x00\xE5\xFF\xFF\xFF\x1C\x00\x00\x00\x05\x00\x00\x00\xE5\xFF\xFF\xFF\x1C\x00\x00\x00\xD9\xFF\xFF\xFF\x14\x00\x00\x00\x05\x00\x00\x00\xD9\xFF\xFF\xFF\x14\x00\x00\x00\xDD\xFF\xFF\xFF\x0F\x00\x00\x00\x05\x00\x00\x00\x08\x00\x00\x00\xDA\xFF\xFF\xFF\x14\x00\x00\x00\xE0\xFF\xFF\xFF\x05\x00\x00\x00\x14\x00\x00\x00\xE0\xFF\xFF\xFF\x1A\x00\x00\x00\xDB\xFF\xFF\xFF\x05\x00\x00\x00\x1A\x00\x00\x00\xDB\xFF\xFF\xFF\x0C\x00\x00\x00\xD4\xFF\xFF\xFF\x05\x00\x00\x00\x0C\x00\x00\x00\xD4\xFF\xFF\xFF\x07\x00\x00\x00\xDB\xFF\xFF\xFF\x05\x00\x00\x00\x0D\x00\x00\x00\xDD\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xF2\xFF\xFF\xFF\x05\x00\x00\x00\xE5\xFF\xFF\xFF\x12\x00\x00\x00\xF6\xFF\xFF\xFF\xFD\xFF\xFF\xFF\x02\x00\x00\x00\x0A\x05\x00\x00\x00\x0E\x00\x00\x00\xFD\xFF\xFF\xFF\x12\x00\x00\x00\xF8\xFF\xFF\xFF\x05\x00\x00\x00\x12\x00\x00\x00\xF8\xFF\xFF\xFF\xFD\xFF\xFF\xFF\xF9\xFF\xFF\xFF\x02\x00\x00\x00\x04\x05\x00\x00\x00\x0C\x00\x00\x00\xFA\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xF9\xFF\xFF\xFF\x00\x00\x00\x00"
#define __BIN_2_TYPE 0x00000002
#define __BIN_2_SIZE 0x0000026E
#define __BIN_2 "\x02\x00\x00\x00\x02\x08\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x0E\x00\x00\x00\xF5\xFF\xFF\xFF\x0E\x00\x00\x00\x00\x00\x00\x00\x05\x00\x00\x00\x0E\x00\x00\x00\xFF\xFF\xFF\xFF\x1E\x00\x00\x00\x07\x00\x00\x00\x05\x00\x00\x00\x1E\x00\x00\x00\x07\x00\x00\x00\x1F\x00\x00\x00\xF9\xFF\xFF\xFF\x05\x00\x00\x00\x1F\x00\x00\x00\xF9\xFF\xFF\xFF\x0E\x00\x00\x00\xF5\xFF\xFF\xFF\x05\x00\x00\x00\x0E\x00\x00\x00\xF5\xFF\xFF\xFF\x0E\x00\x00\x00\xEB\xFF\xFF\xFF\x05\x00\x00\x00\x0E\x00\x00\x00\xEB\xFF\xFF\xFF\x1F\x00\x00\x00\xE5\xFF\xFF\xFF\x05\x00\x00\x00\x1F\x00\x00\x00\xE5\xFF\xFF\xFF\x35\x00\x00\x00\xE6\xFF\xFF\xFF\x05\x00\x00\x00\x35\x00\x00\x00\xE6\xFF\xFF\xFF\x57\x00\x00\x00\xF2\xFF\xFF\xFF\x05\x00\x00\x00\x57\x00\x00\x00\xF2\xFF\xFF\xFF\x57\x00\x00\x00\xF7\xFF\xFF\xFF\x05\x00\x00\x00\x57\x00\x00\x00\xF7\xFF\xFF\xFF\x32\x00\x00\x00\xFC\xFF\xFF\xFF\x05\x00\x00\x00\x32\x00\x00\x00\xFC\xFF\xFF\xFF\x1F\x00\x00\x00\xFA\xFF\xFF\xFF\x05\x00\x00\x00\x35\x00\x00\x00\xFB\xFF\xFF\xFF\x35\x00\x00\x00\x07\x00\x00\x00\x05\x00\x00\x00\x35\x00\x00\x00\x07\x00\x00\x00\x1D\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00\x35\x00\x00\x00\x06\x00\x00\x00\x57\x00\x00\x00\xFF\xFF\xFF\xFF\x05\x00\x00\x00\x57\x00\x00\x00\xFF\xFF\xFF\xFF\x58\x00\x00\x00\xF1\xFF\xFF\xFF\x05\x00\x00\x00\x58\x00\x00\x00\xF1\xFF\xFF\xFF\x68\x00\x00\x00\xE3\xFF\xFF\xFF\x05\x00\x00\x00\x68\x00\x00\x00\xE3\xFF\xFF\xFF\x5C\x00\x00\x00\x07\x00\x00\x00\x05\x00\x00\x00\x5C\x00\x00\x00\x07\x00\x00\x00\x55\x00\x00\x00\xEE\xFF\xFF\xFF\x05\x00\x00\x00\x5C\x00\x00\x00\x06\x00\x00\x00\x5E\x00\x00\x00\x12\x00\x00\x00\x05\x00\x00\x00\x5E\x00\x00\x00\x11\x00\x00\x00\x52\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00\x60\x00\x00\x00\x10\x00\x00\x00\x6D\x00\x00\x00\xEE\xFF\xFF\xFF\x05\x00\x00\x00\x6D\x00\x00\x00\xEE\xFF\xFF\xFF\x69\x00\x00\x00\xE3\xFF\xFF\xFF\x05\x00\x00\x00\x1D\x00\x00\x00\xEF\xFF\xFF\xFF\x2E\x00\x00\x00\xDC\xFF\xFF\xFF\x05\x00\x00\x00\x2E\x00\x00\x00\xDC\xFF\xFF\xFF\x3C\x00\x00\x00\xEF\xFF\xFF\xFF\x02\x00\x00\x00\x04\x05\x00\x00\x00\x66\x00\x00\x00\xF5\xFF\xFF\xFF\x69\x00\x00\x00\xEB\xFF\xFF\xFF\x05\x00\x00\x00\x69\x00\x00\x00\xEB\xFF\xFF\xFF\x6A\x00\x00\x00\xF1\xFF\xFF\xFF\x05\x00\x00\x00\x69\x00\x00\x00\xF1\xFF\xFF\xFF\x67\x00\x00\x00\xF8\xFF\xFF\xFF\x05\x00\x00\x00\x60\x00\x00\x00\x04\x00\x00\x00\x5F\x00\x00\x00\x0B\x00\x00\x00\x05\x00\x00\x00\x5F\x00\x00\x00\x0B\x00\x00\x00\x62\x00\x00\x00\xFD\xFF\xFF\xFF\x05\x00\x00\x00\x62\x00\x00\x00\xFD\xFF\xFF\xFF\x60\x00\x00\x00\x08\x00\x00\x00\x00\x00\x00\x00"
#define __BIN_3_TYPE 0x00000002
#define __BIN_3_SIZE 0x00000151
#define __BIN_3 "\x02\x00\x00\x00\x04\x08\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00\x12\x00\x00\x00\x05\x00\x00\x00\x25\x00\x00\x00\x1A\x00\x00\x00\x05\x00\x00\x00\x25\x00\x00\x00\x1A\x00\x00\x00\x2C\x00\x00\x00\x08\x00\x00\x00\x05\x00\x00\x00\x2C\x00\x00\x00\x07\x00\x00\x00\x47\x00\x00\x00\x18\x00\x00\x00\x05\x00\x00\x00\x47\x00\x00\x00\x18\x00\x00\x00\x40\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00\x40\x00\x00\x00\x06\x00\x00\x00\x55\x00\x00\x00\xF8\xFF\xFF\xFF\x05\x00\x00\x00\x54\x00\x00\x00\xF8\xFF\xFF\xFF\x37\x00\x00\x00\xFE\xFF\xFF\xFF\x05\x00\x00\x00\x37\x00\x00\x00\xFE\xFF\xFF\xFF\x19\x00\x00\x00\xE6\xFF\xFF\xFF\x05\x00\x00\x00\x19\x00\x00\x00\xE6\xFF\xFF\xFF\x1D\x00\x00\x00\xFF\xFF\xFF\xFF\x05\x00\x00\x00\x1D\x00\x00\x00\xFF\xFF\xFF\xFF\x01\x00\x00\x00\xF3\xFF\xFF\xFF\x05\x00\x00\x00\x01\x00\x00\x00\xF3\xFF\xFF\xFF\x1A\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00\x1A\x00\x00\x00\x06\x00\x00\x00\x0F\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x26\x00\x00\x00\xFB\xFF\xFF\xFF\x17\x00\x00\x00\x1A\x00\x00\x00\x05\x00\x00\x00\x24\x00\x00\x00\x01\x00\x00\x00\x3C\x00\x00\x00\x24\x00\x00\x00\x05\x00\x00\x00\x30\x00\x00\x00\xFE\xFF\xFF\xFF\x64\x00\x00\x00\x09\x00\x00\x00\x05\x00\x00\x00\x26\x00\x00\x00\xFD\xFF\xFF\xFF\x40\x00\x00\x00\xE6\xFF\xFF\xFF\x05\x00\x00\x00\x1E\x00\x00\x00\xFD\xFF\xFF\xFF\x00\x00\x00\x00\xE8\xFF\xFF\xFF\x00\x00\x00\x00"




	       /*  <1> (image) */











		/*  <2> (image) */




		/*  <3> (image) */







U8 enemy_destroyed_time=0;
U8 player_destroyed_time=0;
U8 phasor_time=0;
I8 x=100,y=100;
U1 *img1=__BIN_1;
U1 *img2=__BIN_2;
U1 *img3=__BIN_3;
GrBitMap *base=GrAlias(grbase2,Fs);

#define NUM_STARS	100
I8 stars_x[NUM_STARS],stars_y[NUM_STARS];

void PhasorTsk()
{
  I8 i;
  for (i=2000;i>100;i-=3) {
    Sound(i);
    Sleep(1);
  }
  Sound(0);
}

void BoomTsk()
{
  I8 i;
  for (i=2000;i>100;i-=3) {
    Sound(100+100*(i&1));
    Sleep(1);
  }
  Sound(0);
}


void DrawIt(TssStruct *tss)
{
  U8 i;

  ClearWinText(tss);

  base->color=WHITE;
  for (i=0;i<NUM_STARS;i++)
    GrPlot(base,stars_x[i],stars_y[i]);

  base->bkcolor=BLACK;
  if (enemy_destroyed_time) {
    GrElemsPlot(base,x,y,0,img3);
    if (Jiffies>=enemy_destroyed_time)
      enemy_destroyed_time=0;
  } else
    GrElemsPlot(base,x,y,0,img2);

  if (!player_destroyed_time) {
    base->collision_cnt=0;
    base->bkcolor=ROP_COLLISION+BLACK;
    GrElemsPlot(base,ipx,ipy,0,img1);
    if (base->collision_cnt>0x20) {
      player_destroyed_time=Jiffies+JIFFY_FREQ;  //one second
      Spawn(&BoomTsk);
    }
  }
  base->bkcolor=BLACK;
  if (player_destroyed_time) {
    GrElemsPlot(base,ipx,ipy,0,img3);
    if (Jiffies>=player_destroyed_time)
      player_destroyed_time=0;
  } else
    GrElemsPlot(base,ipx,ipy,0,img1);

  if (phasor_time) {
    base->collision_cnt=0;
    base->color=ROP_COLLISION;
    base->bkcolor=ROP_COLLISION+BLACK;
    GrLine(base,ipx+20,ipy-9,ipx+300,ipy-9);
    if (!enemy_destroyed_time && base->collision_cnt>8){
      enemy_destroyed_time=Jiffies+JIFFY_FREQ;	//one second
      Spawn(&BoomTsk);
    }

    base->color=BLUE;
    GrLine(base,ipx+20,ipy-9,ipx+300,ipy-9);
    if (Jiffies>=phasor_time)
      phasor_time=0;
  }

}



void SpaceShip()
{
  U8 i;
  U8 old_ip=ip_pointer_type;
  BoolU4 old_ip_double=Bts(&Fs->crt_flags,CRTf_NO_DOUBLE_CLICK);
  void *old_update=Fs->update_win;
  U8 old_text_attr=Fs->text_attribute;
  BoolU4 old_inhibit=ip_inhibit_win_operations;
  BoolU4 old_preempt=Preempt(OFF);
  BoolU4 old_wordstat=WordStat(OFF);
  BoolU4 old_border=WinBorder(OFF);
  PopUpInputPointer;
  ip_inhibit_win_operations=TRUE;
  Fs->text_attribute=BLACK+BLACK<<4;
  Fs->update_win=&DrawIt;
  WinMax;
  for (i=0;i<NUM_STARS;i++) {
    stars_x[i]=RandU2%GR_WIDTH;
    stars_y[i]=RandU2%GR_HEIGHT;
  }
  while (!ip_rb && !ScanKey) { //not right button
    x=x+3; y=y-2;
    if (x>GR_WIDTH) x=0;
    if (y<0) y=GR_HEIGHT;
    if (ip_lb) {  //left button?
      phasor_time=Jiffies+JIFFY_FREQ/2;  //half second
      Spawn(&PhasorTsk);
    }
    Sleep(50);
  }
  Sound(0);
  Fs->text_attribute=old_text_attr;
  Fs->update_win=old_update;
  ip_pointer_type=old_ip;
  AssignBit(&Fs->crt_flags,CRTf_NO_DOUBLE_CLICK,old_ip_double);
  ip_inhibit_win_operations=old_inhibit;
  LtfBottom(Fs->cur_ltf);
  Preempt(old_preempt);
  WinBorder(old_border);
  WordStat(old_wordstat);
}

SpaceShip;
