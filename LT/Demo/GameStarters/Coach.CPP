#define __BIN_2_TYPE 0x00000002
#define __BIN_2_SIZE 0x00000092
#define __BIN_2 "\x02\x0B\x08\x02\x00\x00\x00\x05\xFC\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x04\x00\x00\x00\xFF\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDF\xFF\xFF\xFF\x02\x00\x00\x00\xC7\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xDB\xFF\xFF\xFF\xFA\xFF\xFF\xFF\xC7\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xC7\xFF\xFF\xFF\x00\x00\x00\x00\xBB\xFF\xFF\xFF\x05\x00\x00\x00\x00\xC7\xFF\xFF\xFF\x04\x00\x00\x00\xD7\xFF\xFF\xFF\x05\x04\x00\x00\x00\xDB\xFF\xFF\xFF\xFC\xFF\xFF\xFF\xC9\xFF\xFF\xFF\x02\x06\x05\x04\x00\x00\x00\xD9\xFF\xFF\xFF\x0A\x00\x00\x00\xEB\xFF\xFF\xFF\x00"
#define __BIN_3_TYPE 0x00000002
#define __BIN_3_SIZE 0x00000092
#define __BIN_3 "\x02\x0B\x08\x02\x00\x00\x00\x05\xFC\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x08\x00\x00\x00\xF4\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDF\xFF\xFF\xFF\x02\x00\x00\x00\xC7\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xDB\xFF\xFF\xFF\xFA\xFF\xFF\xFF\xC7\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xC7\xFF\xFF\xFF\x00\x00\x00\x00\xBB\xFF\xFF\xFF\x05\x00\x00\x00\x00\xC7\xFF\xFF\xFF\x0A\x00\x00\x00\xD9\xFF\xFF\xFF\x05\x0E\x00\x00\x00\xD9\xFF\xFF\xFF\xFC\xFF\xFF\xFF\xC9\xFF\xFF\xFF\x02\x06\x05\x08\x00\x00\x00\xD9\xFF\xFF\xFF\x1E\x00\x00\x00\xD9\xFF\xFF\xFF\x00"
#define __BIN_4_TYPE 0x00000002
#define __BIN_4_SIZE 0x00000092
#define __BIN_4 "\x02\x0B\x08\x02\x00\x00\x00\x05\xFC\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x00\x00\x00\x00\xF4\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDF\xFF\xFF\xFF\x04\x00\x00\x00\xC8\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xDB\xFF\xFF\xFF\xFC\xFF\xFF\xFF\xC8\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xCA\xFF\xFF\xFF\x00\x00\x00\x00\xBB\xFF\xFF\xFF\x05\x04\x00\x00\x00\xC8\xFF\xFF\xFF\x0A\x00\x00\x00\xD7\xFF\xFF\xFF\x05\x0C\x00\x00\x00\xD3\xFF\xFF\xFF\x02\x00\x00\x00\xCA\xFF\xFF\xFF\x02\x06\x05\x0A\x00\x00\x00\xD9\xFF\xFF\xFF\x16\x00\x00\x00\xC3\xFF\xFF\xFF\x00"
#define __BIN_5_TYPE 0x00000002
#define __BIN_5_SIZE 0x00000092
#define __BIN_5 "\x02\x0B\x08\x02\x00\x00\x00\x05\xFC\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x02\x00\x00\x00\xFE\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDF\xFF\xFF\xFF\x02\x00\x00\x00\xC8\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xDB\xFF\xFF\xFF\xFC\xFF\xFF\xFF\xC6\xFF\xFF\xFF\x05\x00\x00\x00\x00\xC6\xFF\xFF\xFF\x00\x00\x00\x00\xBB\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xCA\xFF\xFF\xFF\x06\x00\x00\x00\xD7\xFF\xFF\xFF\x05\x08\x00\x00\x00\xD5\xFF\xFF\xFF\xFC\xFF\xFF\xFF\xCA\xFF\xFF\xFF\x02\x06\x05\x06\x00\x00\x00\xDB\xFF\xFF\xFF\x0A\x00\x00\x00\xBB\xFF\xFF\xFF\x00"
#define __BIN_1_TYPE 0x00000002
#define __BIN_1_SIZE 0x00000032
#define __BIN_1 "\x08\x02\x00\x00\x00\x02\x00\x18\x06\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\xFE\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x80\x05\x00\x00\x00\x00\xFE\xFF\xFF\xFF\x00\x00\x00\x00\xE0\xFF\xFF\xFF\x00"
#define __BIN_6_TYPE 0x00000002
#define __BIN_6_SIZE 0x00000092
#define __BIN_6 "\x02\x0B\x08\x02\x00\x00\x00\x05\x02\x00\x00\x00\xFC\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xFC\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDF\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xC5\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDA\xFF\xFF\xFF\x01\x00\x00\x00\xC6\xFF\xFF\xFF\x05\x00\x00\x00\x00\xC6\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xBA\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xC7\xFF\xFF\xFF\x06\x00\x00\x00\xD7\xFF\xFF\xFF\x05\x08\x00\x00\x00\xD5\xFF\xFF\xFF\xFB\xFF\xFF\xFF\xC6\xFF\xFF\xFF\x02\x06\x05\x06\x00\x00\x00\xDB\xFF\xFF\xFF\x0C\x00\x00\x00\xF0\xFF\xFF\xFF\x00"
#define __BIN_7_TYPE 0x00000002
#define __BIN_7_SIZE 0x00000092
#define __BIN_7 "\x02\x0B\x08\x02\x00\x00\x00\x05\x02\x00\x00\x00\xFC\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xFC\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDF\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xC5\xFF\xFF\xFF\x05\x04\x00\x00\x00\xDA\xFF\xFF\xFF\x01\x00\x00\x00\xC6\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xC6\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xBA\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xC7\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDA\xFF\xFF\xFF\x05\xF8\xFF\xFF\xFF\xDC\xFF\xFF\xFF\xFB\xFF\xFF\xFF\xC6\xFF\xFF\xFF\x02\x06\x05\xF8\xFF\xFF\xFF\xDA\xFF\xFF\xFF\xF4\xFF\xFF\xFF\xF4\xFF\xFF\xFF\x00"
#define __BIN_8_TYPE 0x00000002
#define __BIN_8_SIZE 0x00000092
#define __BIN_8 "\x02\x0B\x08\x02\x00\x00\x00\x05\x02\x00\x00\x00\xFC\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xFC\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDF\xFF\xFF\xFF\x00\x00\x00\x00\xC6\xFF\xFF\xFF\x05\xF8\xFF\xFF\xFF\xDC\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xC6\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xC6\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xBA\xFF\xFF\xFF\x05\xF8\xFF\xFF\xFF\xC6\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDA\xFF\xFF\xFF\x05\x06\x00\x00\x00\xDE\xFF\xFF\xFF\x00\x00\x00\x00\xC6\xFF\xFF\xFF\x02\x06\x05\x06\x00\x00\x00\xDC\xFF\xFF\xFF\x10\x00\x00\x00\xF4\xFF\xFF\xFF\x00"
#define __BIN_9_TYPE 0x00000002
#define __BIN_9_SIZE 0x00000092
#define __BIN_9 "\x02\x0B\x08\x02\x00\x00\x00\x05\x00\x00\x00\x00\xF4\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xFC\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDF\xFF\xFF\xFF\x00\x00\x00\x00\xC6\xFF\xFF\xFF\x05\xF2\xFF\xFF\xFF\xD8\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xC6\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xC6\xFF\xFF\xFF\xFA\xFF\xFF\xFF\xBC\xFF\xFF\xFF\x05\xF8\xFF\xFF\xFF\xC6\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDA\xFF\xFF\xFF\x05\x04\x00\x00\x00\xDC\xFF\xFF\xFF\x00\x00\x00\x00\xC6\xFF\xFF\xFF\x02\x06\x05\x04\x00\x00\x00\xDC\xFF\xFF\xFF\x0E\x00\x00\x00\xFA\xFF\xFF\xFF\x00"
#define __BIN_10_TYPE 0x00000002
#define __BIN_10_SIZE 0x00000092
#define __BIN_10 "\x02\x0B\x08\x02\x00\x00\x00\x05\x02\x00\x00\x00\xFA\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDD\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xF2\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDF\xFF\xFF\xFF\x00\x00\x00\x00\xC6\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xE0\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xC6\xFF\xFF\xFF\x05\xFC\xFF\xFF\xFF\xC6\xFF\xFF\xFF\xF8\xFF\xFF\xFF\xBC\xFF\xFF\xFF\x05\xF8\xFF\xFF\xFF\xC6\xFF\xFF\xFF\xFE\xFF\xFF\xFF\xDA\xFF\xFF\xFF\x05\xFE\xFF\xFF\xFF\xDC\xFF\xFF\xFF\x00\x00\x00\x00\xC6\xFF\xFF\xFF\x02\x06\x05\xFA\xFF\xFF\xFF\xD8\xFF\xFF\xFF\x08\x00\x00\x00\xF8\xFF\xFF\xFF\x00"






  /* <1> <1> (image) */










  /* <2> <2> (image) */ /* <3> <3> (image) */ /* <4> <4> (image) */ /* <5> <5> (image) */ /* <6> <6> (image) */ /* <7> <7> (image) */ /* <8> <8> (image) */ /* <9> <9> (image) */ /* <10> <10> (image) */



#define BASE_X		(GR_WIDTH/2)
#define BASE_Y		(3*GR_HEIGHT/4)
#define TEE_HEIGHT	34

#define BATTER_T	0.25
#define NUM_BATTER_IMGS	4
U8 *batter_imgs[NUM_BATTER_IMGS]={__BIN_2,__BIN_3,__BIN_4,__BIN_5};

#define RUNNER1_T		1.5
#define NUM_RUNNER1_IMGS	6
U8 *runner1_imgs[NUM_RUNNER1_IMGS]={__BIN_5,__BIN_6,__BIN_7,__BIN_7,__BIN_7,__BIN_8};

#define RUNNER2_T		0.4
#define NUM_RUNNER2_IMGS	4
U8 *runner2_imgs[NUM_RUNNER2_IMGS]={__BIN_8,__BIN_9,__BIN_8,__BIN_10};

F64 t0,hit_t0;
F64 ball_x,ball_y;

U0 DrawIt(TaskStruct *task,GrDC *dc)
{
  F64 tt=tP(task)-t0;
  I64 i=(NUM_BATTER_IMGS-1)*tt/BATTER_T;
  U8 *inter;

  task->text_attr=GREEN<<4;
  dc->color=WHITE;
  dc->pen_width=3;
  GrLine3(dc,BASE_X,BASE_Y,0,BASE_X-200,BASE_Y-200,0);
  GrLine3(dc,BASE_X,BASE_Y,0,BASE_X+200,BASE_Y-200,0);

  GrSpritePlot3(dc,BASE_X,BASE_Y,0,__BIN_1);
  dc->color=WHITE;
  GrCircle(dc,ball_x+BASE_X,ball_y+BASE_Y-TEE_HEIGHT,2);
  if (!t0)
    GrSpritePlot3(dc,BASE_X-23,BASE_Y,0,batter_imgs[0]);
  else if (i<NUM_BATTER_IMGS-1) {
    inter=GrSpriteInterpolate(batter_imgs[i],batter_imgs[i+1],
      ((NUM_BATTER_IMGS-1)/BATTER_T)*(tt%(BATTER_T/(NUM_BATTER_IMGS-1))));
    GrSpritePlot3(dc,BASE_X-23,BASE_Y,0,inter);
    Free(inter);
    if (!hit_t0 && tt>BATTER_T/2)
      hit_t0=tP(task);
  } else {
    tt-=BATTER_T;
    i=(NUM_RUNNER1_IMGS-1)*tt/RUNNER1_T;
    if (i<NUM_RUNNER1_IMGS-1 ) {
      inter=GrSpriteInterpolate(runner1_imgs[i],runner1_imgs[i+1],
	((NUM_RUNNER1_IMGS-1)/RUNNER1_T)*(tt%(RUNNER1_T/(NUM_RUNNER1_IMGS-1))));
      GrSpritePlot3(dc,BASE_X-23,BASE_Y,0,inter);
      Free(inter);
    } else {
      tt-=RUNNER1_T;
      i=NUM_RUNNER2_IMGS*tt/RUNNER2_T;
      if (i<30) {
	inter=GrSpriteInterpolate(runner2_imgs[i%NUM_RUNNER2_IMGS],runner2_imgs[(i+1)%NUM_RUNNER2_IMGS],
	  (NUM_RUNNER2_IMGS/RUNNER2_T)*(tt%(RUNNER2_T/NUM_RUNNER2_IMGS)));
	GrSpritePlot3(dc,BASE_X-23-50*tt,BASE_Y-50*tt,0,inter);
	Free(inter);
      } else {
	t0=0;
	ball_x=0;
	ball_y=0;
      }
    }
  }
}

#define BALL_PATH_PTS	7
P3I32 ball_path[BALL_PATH_PTS]={
  {0,0,0},{20,-40,0},{40,20,0},
  {40,20,0},{50,-30,0},{55,10,0},
  {55,10,0}
};

BoolI64 PlotBall(U0 *,I64 _x,I64 _y,I64)
{
  ball_x=_x; ball_y=_y;
  Sleep(3);
  return TRUE;
}

U0 AnimateTask(U64)
{
  while (TRUE) {
    if (hit_t0) {
      Noise(25,2000,3000);
      BSpline2(NULL,&ball_path,BALL_PATH_PTS,&PlotBall);
      hit_t0=0;
    }
    Sleep(1);
  }
}

U0 Init()
{
  t0=0;
  hit_t0=0;
  ball_x=0;
  ball_y=0;
}

U0 TeeBall()
{
  SettingsPush; //See [C:/LT/Adam/TaskSettings.APZ,3] SettingsPush
  WinMax;
  WinBorder;
  Preempt(OFF);

  Fs->win_inhibit|=WIF_DBL_CLICK;
  WordStat;
  Fs->animate_task=Spawn(&AnimateTask,NULL,"Animate",Fs);

  MenuPush(
  "File {"
  "  Abort(,CH_SHIFT_ESC);"
  "  Exit(,CH_ESC);"
  "}"
  "Play {"
  "  Swing(,CH_SPACE);"
  "  Restart(,CH_NEW_LINE);"
      "}"
      );

  Init;
  LtfCursor;
  LtfClear;
  Fs->draw_it=&DrawIt;

  try {
    while (TRUE) {
      switch (GetChar(NULL,FALSE)) {
	case CH_NEW_LINE:
	  Init;
	  break;
	case CH_SPACE:
	  t0=tP;
	  break;
	case CH_SHIFT_ESC:
	case CH_ESC:
	  goto tb_done;
      }
    }
tb_done:
  } catch
    CatchAll;
  SettingsPop;
  MenuPop;
}

TeeBall;
