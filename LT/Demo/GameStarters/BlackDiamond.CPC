#define __BIN_2_TYPE 0x00000002
#define __BIN_2_SIZE 0x00000668
#define __BIN_2 "\x16\x00\x00\x00\x2C\x00\x00\x00\x43\x00\x00\x00\xFA\xFF\xFF\xFF\xFC\xFF\xFF\xFF\x0F\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\x7F\xFC\xFF\x0F\xFF\xFF\x7F\xF8\xFF\x0F\xFF\xFF\x3F\xF8\xFF\x0F\xFF\xFF\x3F\xF8\xFF\x0F\xFF\xFF\x1F\xF8\xFF\x0F\xFF\xFF\x1F\xF1\xFF\x0F\xFF\xFF\x0F\xF0\xFF\x0F\xFF\xFF\x07\xF0\xFF\x0F\xFF\xFF\x47\xE0\xFF\x0F\xFF\xFF\x43\xE0\xFF\x0F\xFF\xFF\x63\xE0\xFF\x0F\xFF\xFF\x61\xC0\xFF\x0F\xFF\xFF\x30\xC0\xFF\x0F\xFF\xFF\x38\xC0\xFF\x0F\xFF\x7F\x18\x88\xFF\x0F\xFF\x7F\x1C\x80\xFF\x0F\xFF\x3F\x0C\x80\xFF\x0F\xFF\x1F\x0E\x10\xFF\x0F\xFF\x1F\x07\x10\xFF\x0F\xFF\x0F\x07\x02\xFF\x0F\xFF\x8F\x07\x22\xFE\x0F\xFF\x07\x20\x22\xFE\x0F\xFF\x07\x00\x06\xFE\x0F\xFF\xC7\x23\x46\xFC\x0F\xFF\xFF\x01\x46\xFC\x0F\xFF\xFF\x11\x40\xFC\x0F\xFF\xFF\x10\xE0\xF8\x0F\xFF\xFF\x10\x80\xF8\x0F\xFF\x7F\x00\x08\xF8\x0F\xFF\x7F\x00\x31\xF0\x0F\xFF\x3F\x00\xF1\xF0\x0F\xFF\x3F\x00\xF1\xE1\x0F\xFF\x1F\x10\xE3\xFF\x0F\xFF\x1F\x10\xE3\xFF\x0F\xFF\x0F\x01\xC6\xFF\x0F\xFF\x0F\x00\xC4\xFF\x0F\xFF\x0F\x08\xC4\xFF\x0F\xFF\x8F\x08\x8C\xFF\x0F\xFF\x8F\x08\x8C\xFF\x0F\xFF\x07\x88\x88\xFF\x0F\xFF\x47\x8C\x18\xFF\x0F\xFF\x43\x8C\x18\xFF\x0F\xFF\x63\x8C\x38\xFE\x0F\xFF\x63\x8C\x31\xFE\x0F\xFF\xE1\x8F\x31\xFE\x0F\xFF\xF1\x8F\x71\xFC\x0F\xFF\x01\xFC\x63\xFC\x0F\xFF\x01\x00\x7C\xFC\x0F\xFF\xFF\x01\x00\xF8\x0F\xFF\xFF\xC7\x01\xF8\x0F\xFF\xFF\xC7\xFF\xF1\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\x7F\xFC\xFF\x0F\xFF\xFF\x7F\xF8\xFF\x0F\xFF\xFF\x3F\xF8\xFF\x0F\xFF\xFF\x3F\xF8\xFF\x0F\xFF\xFF\x1F\xF8\xFF\x0F\xFF\xFF\x1F\xF1\xFF\x0F\xFF\xFF\x0F\xF0\xFF\x0F\xFF\xFF\x07\xF0\xFF\x0F\xFF\xFF\x47\xE0\xFF\x0F\xFF\xFF\x43\xE0\xFF\x0F\xFF\xFF\x63\xE0\xFF\x0F\xFF\xFF\x61\xC0\xFF\x0F\xFF\xFF\x30\xC0\xFF\x0F\xFF\xFF\x38\xC0\xFF\x0F\xFF\x7F\x18\x88\xFF\x0F\xFF\x7F\x1C\x80\xFF\x0F\xFF\x3F\x0C\x80\xFF\x0F\xFF\x1F\x0E\x10\xFF\x0F\xFF\x1F\x07\x10\xFF\x0F\xFF\x0F\x07\x02\xFF\x0F\xFF\x8F\x07\x22\xFE\x0F\xFF\x07\x20\x22\xFE\x0F\xFF\x07\x00\x06\xFE\x0F\xFF\xC7\x23\x46\xFC\x0F\xFF\xFF\x01\x46\xFC\x0F\xFF\xFF\x11\x40\xFC\x0F\xFF\xFF\x10\xE0\xF8\x0F\xFF\xFF\x10\x80\xF8\x0F\xFF\x7F\x00\x08\xF8\x0F\xFF\x7F\x00\x31\xF0\x0F\xFF\x3F\x00\xF1\xF0\x0F\xFF\x3F\x00\xF1\xE1\x0F\xFF\x1F\x10\xE3\xFF\x0F\xFF\x1F\x10\xE3\xFF\x0F\xFF\x0F\x01\xC6\xFF\x0F\xFF\x0F\x00\xC4\xFF\x0F\xFF\x0F\x08\xC4\xFF\x0F\xFF\x8F\x08\x8C\xFF\x0F\xFF\x8F\x08\x8C\xFF\x0F\xFF\x07\x88\x88\xFF\x0F\xFF\x47\x8C\x18\xFF\x0F\xFF\x43\x8C\x18\xFF\x0F\xFF\x63\x8C\x38\xFE\x0F\xFF\x63\x8C\x31\xFE\x0F\xFF\xE1\x8F\x31\xFE\x0F\xFF\xF1\x8F\x71\xFC\x0F\xFF\x01\xFC\x63\xFC\x0F\xFF\x01\x00\x7C\xFC\x0F\xFF\xFF\x19\x00\xF8\x0F\xFF\xFF\xFF\x01\xF8\x0F\xFF\xFF\xFF\xFF\xF1\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\x7F\xFC\xFF\x0F\xFF\xFF\x7F\xF8\xFF\x0F\xFF\xFF\x3F\xF8\xFF\x0F\xFF\xFF\x3F\xF8\xFF\x0F\xFF\xFF\x1F\xF8\xFF\x0F\xFF\xFF\x1F\xF1\xFF\x0F\xFF\xFF\x0F\xF0\xFF\x0F\xFF\xFF\x07\xF0\xFF\x0F\xFF\xFF\x47\xE0\xFF\x0F\xFF\xFF\x43\xE0\xFF\x0F\xFF\xFF\x63\xE0\xFF\x0F\xFF\xFF\x61\xC0\xFF\x0F\xFF\xFF\x30\xC0\xFF\x0F\xFF\xFF\x38\xC0\xFF\x0F\xFF\x7F\x18\x88\xFF\x0F\xFF\x7F\x1C\x80\xFF\x0F\xFF\x3F\x0C\x80\xFF\x0F\xFF\x1F\x0E\x10\xFF\x0F\xFF\x1F\x07\x10\xFF\x0F\xFF\x0F\x07\x02\xFF\x0F\xFF\x8F\x07\x22\xFE\x0F\xFF\x07\x20\x22\xFE\x0F\xFF\x07\x00\x06\xFE\x0F\xFF\xC7\x23\x46\xFC\x0F\xFF\xFF\x01\x46\xFC\x0F\xFF\xFF\x11\x40\xFC\x0F\xFF\xFF\x10\xE0\xF8\x0F\xFF\xFF\x10\x80\xF8\x0F\xFF\x7F\x00\x08\xF8\x0F\xFF\x7F\x00\x31\xF0\x0F\xFF\x3F\x00\xF1\xF0\x0F\xFF\x3F\x00\xF1\xE1\x0F\xFF\x1F\x10\xE3\xFF\x0F\xFF\x1F\x10\xE3\xFF\x0F\xFF\x0F\x01\xC6\xFF\x0F\xFF\x0F\x00\xC4\xFF\x0F\xFF\x0F\x08\xC4\xFF\x0F\xFF\x8F\x08\x8C\xFF\x0F\xFF\x8F\x08\x8C\xFF\x0F\xFF\x07\x88\x88\xFF\x0F\xFF\x47\x8C\x18\xFF\x0F\xFF\x43\x8C\x18\xFF\x0F\xFF\x63\x8C\x38\xFE\x0F\xFF\x63\x8C\x31\xFE\x0F\xFF\xE1\x8F\x31\xFE\x0F\xFF\xF1\x8F\x71\xFC\x0F\xFF\x01\xFC\x63\xFC\x0F\xFF\x01\x00\x7C\xFC\x0F\xFF\xFF\x01\x00\xF8\x0F\xFF\xFF\xC7\x01\xF8\x0F\xFF\xFF\xC7\xFF\xF1\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xC7\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\xFF\xFF\xFF\xFF\xFF\x0F\x00\x00\x00\x00"
#define __BIN_1_TYPE 0x00000002
#define __BIN_1_SIZE 0x000000F2
#define __BIN_1 "\x02\x00\x00\x00\x00\x08\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x33\x00\x00\x00\x19\x00\x00\x00\x4A\x00\x00\x00\x05\x00\x00\x00\x1C\x00\x00\x00\x2C\x00\x00\x00\x30\x00\x00\x00\x46\x00\x00\x00\x02\x00\x00\x00\x01\x05\x00\x00\x00\x0E\x00\x00\x00\x3C\x00\x00\x00\x11\x00\x00\x00\x1E\x00\x00\x00\x05\x00\x00\x00\x24\x00\x00\x00\x38\x00\x00\x00\x1E\x00\x00\x00\x1E\x00\x00\x00\x05\x00\x00\x00\x12\x00\x00\x00\x1F\x00\x00\x00\x1C\x00\x00\x00\x1E\x00\x00\x00\x05\x00\x00\x00\x1C\x00\x00\x00\x1E\x00\x00\x00\x1C\x00\x00\x00\x09\x00\x00\x00\x05\x00\x00\x00\x1C\x00\x00\x00\x09\x00\x00\x00\x0F\x00\x00\x00\x09\x00\x00\x00\x05\x00\x00\x00\x0F\x00\x00\x00\x09\x00\x00\x00\x10\x00\x00\x00\x1C\x00\x00\x00\x05\x00\x00\x00\x10\x00\x00\x00\x09\x00\x00\x00\x07\x00\x00\x00\x1D\x00\x00\x00\x05\x00\x00\x00\x1E\x00\x00\x00\x0A\x00\x00\x00\x23\x00\x00\x00\x1C\x00\x00\x00\x05\x00\x00\x00\x15\x00\x00\x00\x07\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"

//These images were created with CTRL-R
//and can be edited by moving the
//cursor on top and pressing CTRL-R
//again.

//Press CTRL-T to see the number of
//the image and CTRL-T again to get back.
//Numbers are assigned by the editor.


    /* <1> <1> (image) */











    /* <2> <2> (image) */








#define NUM_TREES	128

I8 x=100,y=100;
I8 trees_x[NUM_TREES],trees_y[NUM_TREES];
I8 cur_screen_y=0;
I8 score=0;

void DrawIt(TssStruct *tss)
{
  I8 buf[128];
  I8 i;
  GrBitMap *base=GrAlias(grbase2,tss);

//Without this, we see background text.
//Change Fs->text_attribute if you want
//to change the background color.
  ClearWinText(tss);

//Press CTLR-T to see the syntax of the
//"Insert Binary" statement in the following.
  for (i=0;i<NUM_TREES;i++)
    GrElemsPlot(base,trees_x[i],trees_y[i]-cur_screen_y,0,__BIN_2);

  base->collision_cnt=0;
  base->bkcolor=ROP_COLLISION+WHITE;
  GrElemsPlot(base,x,y,0,__BIN_1);
  if (base->collision_cnt) {
    Sound(400);
    score++;
  } else
    Sound(0);

  base->bkcolor=ROP_EQU;
  GrElemsPlot(base,x,y,0,__BIN_1);
  GrDel(base);

//Text attributes include forground in the
//lowest 4 bits and background in the upper 4.
  SPrintF(buf,"Score:%d",score);
  PlotWinStr(tss,buf,BLACK+WHITE*16,1,1);
}

void InitTrees()
{
  I8 i;
  for (i=0;i<NUM_TREES;i++) {
    trees_x[i]=RandU4%GR_WIDTH;
    trees_y[i]=RandU4%2048;
  }
}


void BlackDiamond()
{
  I8 ch,sc;
  void *old_update=Fs->update_win;
  BoolU4 old_border=WinBorder(OFF);
  WinMax;
  Fs->update_win=&DrawIt;
  InitTrees;
  do {
    if (ScanKey(&ch,&sc)) {
      switch (sc.u1[0]) {
	case SC_CURSOR_RIGHT:
	  x+=10;
	  if (x>=GR_WIDTH) x-=GR_WIDTH;
	  break;
	case SC_CURSOR_LEFT:
	  x-=10;
	  if (x<0) x+=GR_WIDTH;
	  break;
	case SC_CURSOR_UP:
	  y-=10;
	  if (y<0) y+=GR_HEIGHT;
	  break;
	case SC_CURSOR_DOWN:
	  y+=10;
	  if (y>=GR_HEIGHT) y-=GR_HEIGHT;
	  break;
      }

//We don't want keystrokes building-up
//in the buffer.
      FlushMsgs;
    }
    y=(y+1)%GR_HEIGHT;
    cur_screen_y=(cur_screen_y+1)%(2048-GR_HEIGHT);

    Sleep(20);
  } while (ch!=CH_ESC && ch!=CH_CTRLQ);
  Fs->update_win=old_update;
  WinBorder(old_border);
}

//Start game when #included.
BlackDiamond;
