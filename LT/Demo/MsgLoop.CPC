U0 MsgLoop()
{
  U64 p1=0,p2=0,msg_code=0;
  PutS("Use [C:/LT/OSMain/Adam1a.HPZ,3184] these defines "
	"in your programs instead of hardcoded nums.\r\n"
	"<ESC> to Exit\r\n");

  //We don't want the mouse buttons to repos the cursor
  Fs->win_inhibit=WIF_IP_L|WIF_IP_R;

  while (msg_code!=MSG_KEY_DOWN || p1!=CH_ESC && p1!=CH_SHIFT_ESC) {
    msg_code=GetMsg(&p1,&p2,~(1<<MSG_NULL));
    PrintF("CMD:%02X P1:%08X P2:%016X\r\n",msg_code,p1,p2);
  }
  Fs->win_inhibit=0;
}

MsgLoop;
